add_library('opencv_processing')

size(640, 400, P2D)
img = load_image("test.jpg")
opencv = OpenCV(this, img)
gray_hist = opencv.find_histogram(opencv.get_gray(), 256)
r_hist = opencv.find_histogram(opencv.get_r(), 256)
g_hist = opencv.find_histogram(opencv.get_g(), 256)
b_hist = opencv.find_histogram(opencv.get_b(), 256)

background(0)
image(img, 10, 0, 300, 200)
stroke(125)
no_fill()
rect(320, 10, 310, 180)

fill(125)
no_stroke()
gray_hist.draw(320, 10, 310, 180)
stroke(255, 0, 0)
no_fill()
rect(10, height - 190, 200, 180)

fill(255, 0, 0)
no_stroke()
r_hist.draw(10, height - 190, 200, 180)
stroke(0, 255, 0)
no_fill()
rect(220, height - 190, 200, 180)

fill(0, 255, 0)
no_stroke()
g_hist.draw(220, height - 190, 200, 180)
stroke(0, 0, 255)
no_fill()
rect(430, height - 190, 200, 180)

fill(0, 0, 255)
no_stroke()
b_hist.draw(430, height - 190, 200, 180)
